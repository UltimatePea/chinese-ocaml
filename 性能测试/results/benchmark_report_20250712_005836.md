# 骆言编程语言性能基准测试报告

**测试时间**: Sat Jul 12 00:58:36 EDT 2025
**测试环境**: Darwin MacBookPro.cable.rcn.com 24.5.0 Darwin Kernel Version 24.5.0: Tue Apr 22 19:53:26 PDT 2025; root:xnu-11417.121.6~2/RELEASE_X86_64 x86_64
**OCaml版本**: The OCaml toplevel, version 5.3.0

## 测试概述

本报告对比了骆言编程语言与OCaml在相同算法实现下的性能表现。


## 算术运算

### 骆言版本结果
```
执行时间: .104419000秒
编译文件: /Users/zc/temp/chinese-ocaml/benchmarks/micro/simple_bench.ly
源代码:
(* 简化算术运算基准测试 *)

(* 递归累加测试 *)
递归 让 累加 = 函数 n ->
  如果 n <= 0 那么
    0
  否则
    n + 累加 (n - 1)

(* 递归累乘测试 *)  
递归 让 累乘 = 函数 n ->
  如果 n <= 1 那么
    1
  否则
    n * 累乘 (n - 1)

(* 执行测试 *)
让 测试规模 = 20
打印 "开始基准测试"

让 结果1 = 累加 测试规模
打印 "累加结果:"
打印 结果1

让 结果2 = 累乘 8  (* 阶乘增长很快，使用较小值 *)
打印 "累乘结果:"
打印 结果2

让 总结果 = 结果1 + 结果2
打印 "总结果:"
打印 总结果

=== 词法分析 ===
=== 语法分析 ===
=== 语义分析 ===
语义分析成功
=== 代码执行 ===
开始基准测试
累加结果:
210
累乘结果:
40320
总结果:
40530
程序执行完成，结果: ()
```

### OCaml版本结果
```
执行时间: .070481000秒
开始基准测试
累加结果:
210
累乘结果:
40320
总结果:
40530
```

### 性能对比
- **骆言耗时**: .104419000秒
- **OCaml耗时**: .070481000秒
- **性能比率**: 1.48x (骆言/OCaml)
- **结论**: 性能略慢，在可接受范围内 ⚠️

## 斐波那契数列

### 骆言版本结果
```
执行时间: .283044000秒
编译文件: /Users/zc/temp/chinese-ocaml/benchmarks/macro/fib_bench.ly
源代码:
(* 斐波那契基准测试 *)

(* 经典递归实现 *)
递归 让 斐波那契 = 函数 n ->
  匹配 n 与
  | 0 -> 0
  | 1 -> 1
  | _ -> 斐波那契 (n - 1) + 斐波那契 (n - 2)

(* 执行测试 *)
打印 "斐波那契基准测试"

让 小值 = 斐波那契 15
打印 "斐波那契(15):"
打印 小值

让 中值 = 斐波那契 20
打印 "斐波那契(20):"
打印 中值

让 大值 = 斐波那契 25
打印 "斐波那契(25):"
打印 大值

让 总分 = 小值 + 中值 + 大值
打印 "总分:"
打印 总分

=== 词法分析 ===
=== 语法分析 ===
=== 语义分析 ===
语义分析成功
=== 代码执行 ===
斐波那契基准测试
斐波那契(15):
610
斐波那契(20):
6765
斐波那契(25):
75025
总分:
82400
程序执行完成，结果: ()
```

### OCaml版本结果
```
执行时间: .074980000秒
斐波那契基准测试
斐波那契(15):
610
斐波那契(20):
6765
斐波那契(25):
75025
总分:
82400
```

### 性能对比
- **骆言耗时**: .283044000秒
- **OCaml耗时**: .074980000秒
- **性能比率**: 3.77x (骆言/OCaml)
- **结论**: 性能明显落后，需要优化 ❌

## 总结

本次基准测试对比了骆言编程语言与OCaml在相同算法实现下的性能表现。
测试涵盖了微基准测试（如算术运算）和宏基准测试（如算法实现）。

**测试完成时间**: Sat Jul 12 00:58:37 EDT 2025
