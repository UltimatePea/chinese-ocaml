;; 骆言编译器测试系统 - 重构后的简化配置
;; 目录重构完成：调试文件已移到debug/，测试文件按功能分类

;; 核心功能测试
(test
 (name arrays)
 (modules arrays)
 (libraries yyocamlc_lib alcotest))

(test
 (name config)
 (modules config)  
 (libraries yyocamlc_lib))

(test
 (name stdlib)
 (modules stdlib)
 (libraries yyocamlc_lib alcotest))

(test
 (name stdlib_comprehensive)
 (modules stdlib_comprehensive)
 (libraries yyocamlc_lib alcotest))

(test
 (name type_definitions)
 (modules type_definitions)
 (libraries yyocamlc_lib alcotest))

(test
 (name module_types)
 (modules module_types)
 (libraries yyocamlc_lib alcotest))

(test
 (name natural_functions)
 (modules natural_functions)
 (libraries yyocamlc_lib alcotest))

;; 词法分析测试
(test
 (name fullwidth)
 (modules fullwidth)
 (libraries yyocamlc_lib alcotest))

(test
 (name chinese_punctuation)
 (modules chinese_punctuation)
 (libraries yyocamlc_lib))

(test
 (name chinese_comments)
 (modules chinese_comments)
 (libraries yyocamlc_lib))

(test
 (name char_analysis)
 (modules char_analysis)
 (libraries yyocamlc_lib))

(test
 (name keyword_matching)
 (modules keyword_matching)
 (libraries yyocamlc_lib))

;; 语法分析测试
(test
 (name wenyan_syntax)
 (modules wenyan_syntax)
 (libraries yyocamlc_lib alcotest))

(test
 (name wenyan_declaration)
 (modules wenyan_declaration)
 (libraries yyocamlc_lib alcotest))

(test
 (name chinese_expressions)
 (modules chinese_expressions)
 (libraries yyocamlc_lib))

;; 语义分析测试
(test
 (name debug)
 (modules debug)
 (libraries yyocamlc_lib alcotest))

(test
 (name lexer)
 (modules lexer)
 (libraries yyocamlc_lib alcotest))

(test
 (name types)
 (modules types)
 (libraries yyocamlc_lib alcotest))

;; AI功能测试
(test
 (name features)
 (modules features)
 (libraries yyocamlc_lib ai))

(test
 (name chinese_best_practices)
 (modules chinese_best_practices)
 (libraries yyocamlc_lib ai))

(test
 (name refactoring_analyzer)
 (modules refactoring_analyzer)
 (libraries yyocamlc_lib))

;; 错误处理测试
(test
 (name cases)
 (modules cases)
 (libraries yyocamlc_lib alcotest))

(test
 (name recovery)
 (modules recovery)
 (libraries yyocamlc_lib alcotest))

(test
 (name ascii_rejection)
 (modules ascii_rejection)
 (libraries yyocamlc_lib alcotest str))

;; 其他单元测试
(test
 (name ancient_pattern_quoted_identifier)
 (modules ancient_pattern_quoted_identifier)
 (libraries yyocamlc_lib alcotest))

(test
 (name or_else)
 (modules or_else)
 (libraries yyocamlc_lib alcotest))

(test
 (name step_by_step)
 (modules step_by_step)
 (libraries yyocamlc_lib alcotest))

(test
 (name yyocamlc)
 (modules yyocamlc)
 (libraries yyocamlc_lib alcotest))

;; 端到端测试
(test
 (name integration)
 (modules integration)
 (libraries yyocamlc_lib alcotest unix))

(test
 (name file_runner)
 (modules file_runner)
 (libraries yyocamlc_lib alcotest unix))

;; 可执行工具
(executable
 (name nlf_lexer)
 (modules nlf_lexer)
 (libraries yyocamlc_lib))

(executable
 (name nlf_parser)
 (modules nlf_parser)
 (libraries yyocamlc_lib))

(executable
 (name nlf_semantic)
 (modules nlf_semantic)
 (libraries yyocamlc_lib))

(executable
 (name nlf_comprehensive)
 (modules nlf_comprehensive)
 (libraries yyocamlc_lib))

(executable
 (name code_generator)
 (modules code_generator)
 (libraries yyocamlc_lib ai))

(executable
 (name code_completion)
 (modules code_completion)
 (libraries yyocamlc_lib ai))

(executable
 (name doc_generator)
 (modules doc_generator)
 (libraries yyocamlc_lib ai str))

(executable
 (name pattern_learning)
 (modules pattern_learning)
 (libraries yyocamlc_lib ai unix str))

(executable
 (name declarative_transformer)
 (modules declarative_transformer)
 (libraries yyocamlc_lib ai str))

;; 工具库
(library
 (name test_utils)
 (modules helper)
 (libraries yyocamlc_lib))