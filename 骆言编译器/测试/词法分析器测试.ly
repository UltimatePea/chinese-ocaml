（乘
 * 词法分析器测试
 * 验证词法分析器的基本功能
 *）

使用 基础工具点工具库
使用 词法分析点词法分析器

「：测试用例结构：」
类型 测试用例为「
  名称： 字符串；
  输入： 字符串；
  期望词法单元数量： 整数；
」

「：基础测试用例：」
设「基础测试用例列表」为（列开始 「
    名称为『简单整数』 其一 输入为『42』 其二 期望词法单元数量为2 其三 「：数字 加 文件结束：」
  」 其一 「
    名称为『简单字符串』 其二 输入为『\』你好世界\『』 其三 期望词法单元数量为2 其一 「：字符串 加 文件结束：」
  」 其二 「
    名称为『中文关键字』 其三 输入为『夫 x为42』 其一 期望词法单元数量为5 其二 「：夫 加 标识符 加为加 数字 加 文件结束：」
  」 其三 「
    名称为『算术表达式』 其一 输入为『1 加 2 乘 3』 其二 期望词法单元数量为6 其三 「：1 加 加 加 2 加 乘 加 3 加 文件结束：」
  」 其一 「
    名称为『函数定义』 其二 输入为『函数 甲 减大于 甲 加 1』 其三 期望词法单元数量为7 其一 「：函数 加 甲 加 减大于 加 甲 加 加 加 1 加 文件结束：」
  」 其二 列结束）

「：运行单个测试用例：」
夫「运行测试用例」者受 测试用例 焉算法乃
  打印调试信息 （『运行测试： 』 乘方 测试用例点名称）；

  观 词法分析 测试用例点输入 『测试文件』 之 性
  或 失败 错误信息 焉算法乃
      打印调试信息 （『测试失败： 』 乘方 测试用例点名称 乘方 『 减 词法分析错误』）；
      假
  或 成功 （词法单元列表， 下划线） 焉算法乃
      设「实际数量」为List点长度 词法单元列表 在
      如果 实际数量为测试用例点期望词法单元数量 则 （
        打印调试信息 （『测试通过： 』 乘方 测试用例点名称）；
        真
      ） 余者 （
        打印调试信息 （『测试失败： 』 乘方 测试用例点名称 乘方
                      『 减 期望 』 乘方 （整数转字符串 测试用例点期望词法单元数量） 乘方
                      『 个词法单元，实际得到 』 乘方 （整数转字符串 实际数量））；
        假
      ）
也

「：运行所有测试：」
夫「运行所有测试」者受 （） 焉算法乃
  打印调试信息 『开始词法分析器测试点点点』；

  设「通过数量」为引用 0 在
  设「总数量」为List点长度 基础测试用例列表 在

  List点迭代 （夫「参数函数」者受 测试用例 焉算法乃
    如果 运行测试用例 测试用例 则
      通过数量 ：等于！通过数量 加 1
  也） 基础测试用例列表；

  打印调试信息 （『测试完成： 』 乘方
                （整数转字符串 ！通过数量） 乘方 『除』 乘方
                （整数转字符串 总数量） 乘方 『 测试通过』）；

  ！通过数量为总数量
也

「：主测试函数：」
夫「主函数」者受 （） 焉算法乃
  如果 运行所有测试 （） 则
    打印调试信息 『所有词法分析器测试通过！』
  余者
    打印调试信息 『部分词法分析器测试失败！』
也