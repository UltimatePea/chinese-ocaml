{
  "summary": {
    "total_files": 50,
    "total_blocks": 3660,
    "exact_duplicates": 67,
    "similar_blocks": 0,
    "total_duplications": 67
  },
  "pattern_analysis": {
    "其他重复": 67
  },
  "top_duplications": [
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml"
      ],
      "lines": [
        [
          14,
          23
        ],
        [
          24,
          33
        ],
        [
          59,
          68
        ],
        [
          69,
          78
        ],
        [
          79,
          88
        ],
        [
          107,
          116
        ],
        [
          119,
          128
        ],
        [
          137,
          146
        ],
        [
          152,
          161
        ],
        [
          162,
          171
        ],
        [
          178,
          187
        ],
        [
          201,
          210
        ],
        [
          220,
          229
        ],
        [
          237,
          246
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "  (* 关键字 *)\n  | LetKeyword (* 让 - let *)\n  | RecKeyword (* 递归 - rec *)\n  | InKeyword (* 在 - in *)\n  | FunKeyword (* 函数 - fun *)\n  | IfKeyword (* 如果 - if *)\n  | ThenKeyword (* 那么 - then *)\n  | ElseKeyw..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml"
      ],
      "lines": [
        [
          15,
          24
        ],
        [
          62,
          71
        ],
        [
          83,
          92
        ],
        [
          93,
          102
        ],
        [
          103,
          112
        ],
        [
          117,
          126
        ],
        [
          129,
          138
        ],
        [
          147,
          156
        ],
        [
          165,
          174
        ],
        [
          175,
          184
        ],
        [
          188,
          197
        ],
        [
          198,
          207
        ],
        [
          211,
          220
        ],
        [
          230,
          239
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "  | LetKeyword (* 让 - let *)\n  | RecKeyword (* 递归 - rec *)\n  | InKeyword (* 在 - in *)\n  | FunKeyword (* 函数 - fun *)\n  | IfKeyword (* 如果 - if *)\n  | ThenKeyword (* 那么 - then *)\n  | ElseKeyword (* 否则 - ..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml"
      ],
      "lines": [
        [
          28,
          37
        ],
        [
          38,
          47
        ],
        [
          57,
          66
        ],
        [
          155,
          164
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "  | FalseKeyword (* 假 - false *)\n  | AndKeyword (* 并且 - and *)\n  | OrKeyword (* 或者 - or *)\n  | NotKeyword (* 非 - not *)\n  (* 语义类型系统关键字 *)\n  | AsKeyword (* 作为 - as *)\n  | CombineKeyword (* 组合 - combine..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml"
      ],
      "lines": [
        [
          31,
          40
        ],
        [
          45,
          54
        ],
        [
          55,
          64
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml']"
      ],
      "content_preview": "  | NotKeyword (* 非 - not *)\n  (* 语义类型系统关键字 *)\n  | AsKeyword (* 作为 - as *)\n  | CombineKeyword (* 组合 - combine *)\n  | WithOpKeyword (* 以及 - with_op *)\n  | WhenKeyword (* 当 - when *)\n  (* 错误恢复关键字 *)\n  |..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml"
      ],
      "lines": [
        [
          21,
          30
        ],
        [
          4,
          13
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml']"
      ],
      "content_preview": "  ListValue filtered\n\n(** 移除井号注释函数 *)\nlet remove_hash_comment_function args =\n  let line = expect_string (check_single_arg args \"移除井号注释\") \"移除井号注释\" in\n  StringValue (remove_hash_comment line)\n\n(** 移除双斜..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml"
      ],
      "lines": [
        [
          22,
          31
        ],
        [
          32,
          41
        ],
        [
          5,
          14
        ],
        [
          25,
          34
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "\n(** 移除井号注释函数 *)\nlet remove_hash_comment_function args =\n  let line = expect_string (check_single_arg args \"移除井号注释\") \"移除井号注释\" in\n  StringValue (remove_hash_comment line)\n\n(** 移除双斜杠注释函数 *)\nlet remove_d..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml"
      ],
      "lines": [
        [
          25,
          34
        ],
        [
          35,
          44
        ],
        [
          8,
          17
        ],
        [
          28,
          37
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "  let line = expect_string (check_single_arg args \"移除井号注释\") \"移除井号注释\" in\n  StringValue (remove_hash_comment line)\n\n(** 移除双斜杠注释函数 *)\nlet remove_double_slash_comment_function args =\n  let line = expect_s..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml"
      ],
      "lines": [
        [
          26,
          35
        ],
        [
          36,
          45
        ],
        [
          9,
          18
        ],
        [
          29,
          38
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "  StringValue (remove_hash_comment line)\n\n(** 移除双斜杠注释函数 *)\nlet remove_double_slash_comment_function args =\n  let line = expect_string (check_single_arg args \"移除双斜杠注释\") \"移除双斜杠注释\" in\n  StringValue (remo..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml"
      ],
      "lines": [
        [
          47,
          56
        ],
        [
          40,
          49
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_utils.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/builtin_types.ml']"
      ],
      "content_preview": "\n(** 工具函数表 *)\nlet utility_functions =\n  [\n    (\"过滤ly文件\", BuiltinFunctionValue filter_ly_files_function);\n    (\"移除井号注释\", BuiltinFunctionValue remove_hash_comment_function);\n    (\"移除双斜杠注释\", BuiltinFunct..."
    },
    {
      "files": [
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/c_codegen.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/refactoring_analyzer_core.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/unified_token_core.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml",
        "/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml"
      ],
      "lines": [
        [
          7,
          16
        ],
        [
          6,
          15
        ],
        [
          12,
          21
        ],
        [
          25,
          34
        ],
        [
          36,
          45
        ],
        [
          51,
          60
        ],
        [
          70,
          79
        ]
      ],
      "similarity": 1.0,
      "pattern_type": "完全重复",
      "suggestions": [
        "完全重复：提取为独立函数",
        "涉及文件：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/c_codegen.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/refactoring_analyzer_core.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/unified_token_core.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml']",
        "高频重复：优先重构"
      ],
      "content_preview": "\n(* 重新导出主要类型 *)\ntype codegen_config = Context.codegen_config\ntype codegen_context = Context.codegen_context\n\n(* 重新导出主要函数 *)\nlet create_context = Context.create_context\nlet gen_var_name = Context.gen_v..."
    }
  ],
  "recommendations": [
    "发现 67 处代码重复，建议优先重构",
    "高重复文件需重点关注：['/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/token_string_converter.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/lexer_tokens.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/types.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/keyword_converter_system.ml', '/home/zc/chinese-ocaml-worktrees/chinese-ocaml/src/token_compatibility_delimiters.ml']"
  ]
}