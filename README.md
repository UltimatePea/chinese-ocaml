这是一个完全用AI设计实现的中文编程语言。

模仿OCaml

语言名称：骆言

## AI 贡献指南

### 开发流程要求

所有功能开发必须遵循以下完整流程，每个步骤的文档都必须提交到代码仓库：

#### 1. 功能设计 (Design)
- 详细设计文档，包括功能目标、技术方案、接口定义
- 设计文档必须提交到 `docs/design/` 目录
- 包含功能规格说明和实现计划

#### 2. 文档编写 (Documentation)
- 编写用户手册、API文档、技术说明
- 文档必须提交到 `docs/` 目录的相应子目录
- 包含使用示例和最佳实践

#### 3. 设计讨论 (Discussion)
- 在 GitHub Issues 或 Discussions 中进行设计讨论
- 记录讨论过程和决策理由
- 讨论记录必须保存到 `docs/discussions/` 目录

#### 4. 功能评估 (Evaluation)
- 评估功能的技术可行性、性能影响、兼容性
- 评估报告必须提交到 `docs/evaluation/` 目录
- 包含风险评估和替代方案分析

#### 5. 代码实现 (Implementation)
- 按照设计文档实现功能
- 代码必须包含详细注释
- 遵循项目的编码规范和架构设计

#### 6. 单元测试 (Unit Testing)
- 为每个功能编写完整的单元测试
- 测试代码必须提交到 `test/` 目录
- 确保测试覆盖率符合项目要求

#### 7. 代码审查 (Review)
- 进行代码审查，检查代码质量、安全性、性能
- 审查记录必须提交到 `docs/reviews/` 目录
- 确保所有反馈都已处理

### 文档提交要求

**重要：所有上述步骤的文档都必须提交到代码仓库，不允许仅保存在本地或外部系统。**

- 设计文档：`docs/design/功能名称.md`
- 用户文档：`docs/user/功能名称.md`
- 技术文档：`docs/technical/功能名称.md`
- 讨论记录：`docs/discussions/功能名称.md`
- 评估报告：`docs/evaluation/功能名称.md`
- 审查记录：`docs/reviews/功能名称.md`

### 质量保证

- 所有文档必须使用中文编写
- 代码注释必须使用中文
- 提交信息必须使用中文描述
- 确保文档的完整性和准确性

## 项目总体规划

### 项目愿景

设计并实现一个完全中文化的编程语言，深度模仿 OCaml 的功能特性和设计哲学，让中文母语者能够以自然的中文思维进行编程。

### 核心设计原则

1. **中文本土化**
   - 所有关键字、操作符、函数名都使用中文
   - 语法结构符合中文表达习惯
   - 错误信息完全中文化

2. **OCaml 功能完整性**
   - 强类型系统与类型推断
   - 函数式编程范式
   - 模式匹配
   - 模块系统
   - 异常处理机制
   - 内存安全保证

3. **渐进式开发**
   - 先实现核心语言特性
   - 逐步添加高级功能
   - 保持向后兼容性

### 开发阶段规划

#### 第一阶段：语言核心 (Core Language)
- [ ] 词法分析器和语法分析器
- [ ] 基础类型系统（整数、浮点数、字符串、布尔值）
- [ ] 变量声明和赋值
- [ ] 基础函数定义和调用
- [ ] 条件语句和循环结构
- [ ] 简单的错误处理

#### 第二阶段：函数式特性 (Functional Features)
- [ ] 高阶函数
- [ ] 匿名函数（lambda表达式）
- [ ] 列表和数组操作
- [ ] 模式匹配
- [ ] 递归函数优化
- [ ] 不可变数据结构

#### 第三阶段：类型系统 (Type System)
- [ ] 类型推断引擎
- [ ] 用户自定义类型
- [ ] 代数数据类型
- [ ] 泛型编程
- [ ] 类型约束和边界
- [ ] 类型安全保证

#### 第四阶段：模块系统 (Module System)
- [ ] 模块定义和导入
- [ ] 命名空间管理
- [ ] 接口和实现分离
- [ ] 模块参数化
- [ ] 标准库组织

#### 第五阶段：高级特性 (Advanced Features)
- [ ] 异常处理系统
- [ ] 并发编程支持
- [ ] 内存管理优化
- [ ] 性能分析工具
- [ ] 调试器集成

#### 第六阶段：生态系统 (Ecosystem)
- [ ] 包管理器
- [ ] 构建系统
- [ ] 测试框架
- [ ] 文档生成器
- [ ] IDE 插件支持

### 技术架构

#### 编译器架构
```
源代码 → 词法分析 → 语法分析 → 语义分析 → 类型检查 → 中间代码生成 → 优化 → 目标代码生成
```

#### 核心组件
- **前端**：词法分析器、语法分析器、语义分析器
- **中端**：类型检查器、中间表示生成器
- **后端**：代码优化器、目标代码生成器
- **运行时**：内存管理器、垃圾回收器、标准库

### 语言特性对比

| OCaml 特性 | 中文编程语言对应 |
|------------|------------------|
| `let` | `让` |
| `fun` | `函数` |
| `match` | `匹配` |
| `type` | `类型` |
| `module` | `模块` |
| `exception` | `异常` |
| `rec` | `递归` |
| `and` | `与` |
| `or` | `或` |
| `not` | `非` |

### 示例代码对比

**OCaml 代码：**
```ocaml
let rec factorial n =
  match n with
  | 0 -> 1
  | n -> n * factorial (n - 1)

let result = factorial 5
```

**中文编程语言代码：**
```豫
递归 阶乘 数值 =
  匹配 数值 与
  | 0 -> 1
  | 数值 -> 数值 * 阶乘 (数值 - 1)

让 结果 = 阶乘 5
```

### 成功标准

1. **功能完整性**：实现 OCaml 90% 以上的核心功能
2. **性能表现**：编译和执行性能达到 OCaml 的 80% 以上
3. **易用性**：中文母语者能够快速上手使用
4. **生态系统**：建立基本的开发工具链和社区

### 长期目标

- 成为中文编程教育的标准语言
- 在学术研究和工业应用中推广使用
- 建立活跃的中文编程社区
- 为其他中文编程语言提供参考实现

## 项目结构说明

### 学习对象 yuyan-lang/yuyan 项目 文件夹

`yuyan-lang/yuyan` 文件夹包含了手动编写的中文参考代码，这些代码是本项目的先驱和基础。这些参考实现展示了：

- 中文编程语言的核心概念和设计思路
- 词法分析、语法分析和语义分析的中文实现
- 类型系统和编译器的中文架构
- 中文关键字和语法结构的设计模式

这些手动编写的参考代码为AI驱动的开发提供了重要的技术基础和设计指导，确保最终的中文编程语言能够保持高质量和一致性。

贡献：

AI 贡献者：

## AI 开发路线图

### 阶段一：基础架构搭建 (预计 2-3 周)

#### 任务 1.1：项目结构分析
- [ ] 分析 `yyocamlc_ref` 中的现有代码结构
- [ ] 理解手动编写的参考实现的设计模式
- [ ] 创建详细的技术架构文档
- [ ] 制定代码规范和命名约定

#### 任务 1.2：开发环境配置
- [ ] 设置 OCaml 开发环境
- [ ] 配置构建系统 (dune)
- [ ] 建立测试框架
- [ ] 设置代码质量检查工具

#### 任务 1.3：核心数据结构设计
- [ ] 设计抽象语法树 (AST) 数据结构
- [ ] 实现符号表管理
- [ ] 设计类型表示系统
- [ ] 创建错误处理机制

### 阶段二：词法分析器开发 (预计 1-2 周)

#### 任务 2.1：中文关键字定义
- [ ] 定义中文关键字映射表
- [ ] 实现中文标识符识别
- [ ] 处理中文字符编码
- [ ] 设计注释和空白字符处理

#### 任务 2.2：词法分析器实现
- [ ] 实现词法分析器核心逻辑
- [ ] 添加错误恢复机制
- [ ] 编写词法分析器测试
- [ ] 优化性能和内存使用

#### 任务 2.3：词法分析器文档
- [ ] 编写词法分析器设计文档
- [ ] 创建中文关键字参考手册
- [ ] 编写使用示例和最佳实践

### 阶段三：语法分析器开发 (预计 2-3 周)

#### 任务 3.1：语法规则定义
- [ ] 定义中文编程语言的语法规则
- [ ] 设计表达式语法
- [ ] 实现语句和声明语法
- [ ] 处理运算符优先级

#### 任务 3.2：解析器实现
- [ ] 实现递归下降解析器
- [ ] 添加错误处理和恢复
- [ ] 实现语法树构建
- [ ] 优化解析性能

#### 任务 3.3：语法分析器测试
- [ ] 编写语法分析器单元测试
- [ ] 创建语法错误测试用例
- [ ] 测试复杂语法结构
- [ ] 性能基准测试

### 阶段四：语义分析器开发 (预计 2-3 周)

#### 任务 4.1：符号表管理
- [ ] 实现作用域管理
- [ ] 设计变量和函数符号表
- [ ] 处理符号重载和遮蔽
- [ ] 实现模块符号表

#### 任务 4.2：类型检查器
- [ ] 实现基础类型检查
- [ ] 设计类型推断算法
- [ ] 处理函数类型检查
- [ ] 实现类型错误报告

#### 任务 4.3：语义验证
- [ ] 检查变量使用前声明
- [ ] 验证函数调用参数
- [ ] 检查控制流
- [ ] 实现语义错误处理

### 阶段五：类型系统实现 (预计 3-4 周)

#### 任务 5.1：基础类型系统
- [ ] 实现整数、浮点数、字符串类型
- [ ] 设计布尔值和空值类型
- [ ] 实现类型转换规则
- [ ] 添加类型字面量支持

#### 任务 5.2：复合类型
- [ ] 实现数组和列表类型
- [ ] 设计元组和记录类型
- [ ] 实现联合类型
- [ ] 添加类型别名支持

#### 任务 5.3：函数类型
- [ ] 实现函数类型表示
- [ ] 设计高阶函数类型
- [ ] 处理类型参数化
- [ ] 实现类型约束

### 阶段六：代码生成器开发 (预计 2-3 周)

#### 任务 6.1：中间表示设计
- [ ] 设计中间代码表示 (IR)
- [ ] 实现 IR 生成器
- [ ] 设计 IR 优化器
- [ ] 实现 IR 到目标代码转换

#### 任务 6.2：目标代码生成
- [ ] 实现字节码生成
- [ ] 设计虚拟机执行器
- [ ] 实现内存管理
- [ ] 添加垃圾回收支持

#### 任务 6.3：代码生成优化
- [ ] 实现常量折叠
- [ ] 设计死代码消除
- [ ] 实现循环优化
- [ ] 添加内联优化

### 阶段七：标准库开发 (预计 2-3 周)

#### 任务 7.1：基础库
- [ ] 实现数学运算库
- [ ] 设计字符串处理库
- [ ] 实现输入输出库
- [ ] 添加时间日期库

#### 任务 7.2：数据结构库
- [ ] 实现列表操作库
- [ ] 设计字典和集合库
- [ ] 实现队列和栈库
- [ ] 添加树和图库

#### 任务 7.3：系统库
- [ ] 实现文件系统库
- [ ] 设计网络通信库
- [ ] 实现并发编程库
- [ ] 添加正则表达式库

### 阶段八：测试和文档 (预计 1-2 周)

#### 任务 8.1：综合测试
- [ ] 编写端到端测试
- [ ] 创建性能测试套件
- [ ] 实现回归测试
- [ ] 添加压力测试

#### 任务 8.2：文档完善
- [ ] 编写用户手册
- [ ] 创建 API 文档
- [ ] 编写教程和示例
- [ ] 添加故障排除指南

#### 任务 8.3：代码审查
- [ ] 进行代码质量审查
- [ ] 检查安全漏洞
- [ ] 验证性能指标
- [ ] 确保文档完整性

### 阶段九：工具链开发 (预计 2-3 周)

#### 任务 9.1：构建工具
- [ ] 实现项目构建工具
- [ ] 设计依赖管理
- [ ] 实现增量编译
- [ ] 添加并行构建支持

#### 任务 9.2：开发工具
- [ ] 实现代码格式化工具
- [ ] 设计静态分析工具
- [ ] 实现调试器
- [ ] 添加性能分析工具

#### 任务 9.3：包管理
- [ ] 设计包管理系统
- [ ] 实现包仓库
- [ ] 添加版本管理
- [ ] 实现依赖解析

### 阶段十：生态系统建设 (持续进行)

#### 任务 10.1：社区建设
- [ ] 建立开发者社区
- [ ] 创建示例项目库
- [ ] 实现在线文档系统
- [ ] 添加社区贡献指南

#### 任务 10.2：集成开发
- [ ] 开发 IDE 插件
- [ ] 实现语法高亮
- [ ] 添加代码补全
- [ ] 实现调试集成

#### 任务 10.3：持续改进
- [ ] 收集用户反馈
- [ ] 优化性能瓶颈
- [ ] 添加新语言特性
- [ ] 改进开发体验

### 任务执行指南

#### 每个任务的执行步骤：
1. **设计阶段**：详细设计文档，包含技术方案和接口定义
2. **实现阶段**：按照设计文档编写代码，包含详细注释
3. **测试阶段**：编写单元测试和集成测试
4. **文档阶段**：更新相关文档和用户手册
5. **审查阶段**：代码审查和性能评估
6. **提交阶段**：所有文档和代码提交到仓库

#### 质量检查清单：
- [ ] 代码符合项目编码规范
- [ ] 所有功能都有对应的测试
- [ ] 文档完整且准确
- [ ] 性能达到预期目标
- [ ] 错误处理完善
- [ ] 向后兼容性保持

#### 进度跟踪：
- 每周更新任务完成状态
- 记录遇到的问题和解决方案
- 定期评估项目进度
- 调整任务优先级和时间安排

