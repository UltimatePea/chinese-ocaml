# 骆言编程语言贡献指南

欢迎参与骆言编程语言的开发！本项目采用AI优先的开发方式，通过GitHub Issues和自动化工具实现持续改进。

## 🤖 AI协作开发模式

### claude.sh - 自主改进机制

骆言项目的核心特色是通过 `claude.sh` 脚本实现的完全自主改进系统：

```bash
./claude.sh
```

**工作流程：**
1. **自动问题检测** - 扫描GitHub Issues，识别需要处理的任务
2. **智能任务分析** - 理解问题描述，制定解决方案
3. **代码自动生成** - 实现功能、修复bug、优化性能
4. **测试验证** - 运行完整测试套件确保质量
5. **文档更新** - 自动更新相关文档和示例
6. **提交推送** - 创建规范的commit和pull request

### 与GitHub Issues的集成

**Issue标签系统：**
- `enhancement` - 新功能需求
- `bug` - 错误修复
- `documentation` - 文档改进
- `refactoring` - 代码重构
- `testing` - 测试相关
- `performance` - 性能优化

**自动化响应：**
- Claude AI会定期检查open issues
- 自动评估任务优先级和复杂度
- 对于技术债务类问题优先处理
- 完成后自动关闭issue并提供详细报告

## 🌟 参与方式

### 1. 提出问题和建议

**创建Issue时请包含：**
- 清晰的问题描述（中文优先）
- 预期行为和实际行为
- 复现步骤（如适用）
- 相关的代码示例
- 环境信息

**示例：**
```markdown
# Bug: C代码生成中中文标识符编码问题

## 问题描述
生成的C代码中中文标识符被转换为unicode编码，影响可读性

## 当前行为
打印函数显示为：`_00e6__0089__0093__00e5__008d__00b0_`

## 期望行为
直接显示为：`"打印"`

## 影响范围
所有使用中文标识符的C代码生成
```

### 2. 代码贡献

**直接贡献：**
- Fork项目并创建feature分支
- 实现功能并添加测试
- 遵循现有代码风格和规范
- 提交PR时使用中文描述

**AI协作贡献：**
- 在Issue中详细描述需求
- 让AI自动实现并验证
- 参与代码审查和测试
- 提供反馈和改进建议

### 3. 文档改进

**文档结构：**
- `/doc/design/` - 设计文档
- `/doc/notes/` - 开发笔记
- `/doc/change_log/` - 变更日志
- `examples/` - 示例代码

**文档规范：**
- 全部使用简体中文
- 遵循现有编号体系
- 包含代码示例和测试用例
- 保持更新和准确性

## 🔧 开发环境设置

### 基础要求
```bash
# OCaml和相关工具
opam install dune ocaml-lsp-server

# 构建项目
dune build

# 运行测试
dune runtest

# 安装编译器
dune install
```

### AI开发工具
```bash
# 设置Claude Code权限
# 参考 CLAUDE.md 中的配置

# 运行自主改进
./claude.sh

# 检查GitHub状态
gh issue list
gh pr list
```

## 📋 开发规范

### 代码风格

**OCaml代码：**
- 使用4空格缩进
- 函数名使用snake_case
- 类型名使用PascalCase
- 中文注释优先

**骆言语言：**
- 使用中文关键字和标识符
- 保持代码可读性
- 包含完整的类型注解
- 添加示例和测试

### 测试要求

**必须包含：**
- 单元测试覆盖新功能
- 集成测试验证整体功能
- 错误情况的测试用例
- 性能回归测试

**测试命令：**
```bash
# 运行所有测试
dune runtest

# 特定测试
dune runtest test/test_specific.ml

# 详细输出
dune runtest --verbose
```

### 提交规范

**Commit消息格式：**
```
🎯 [类型] 简短描述

详细描述：
- 具体改动1
- 具体改动2

测试：
- ✅ 所有测试通过
- ✅ 新增测试覆盖

影响：关闭 #issue_number
```

**类型标识：**
- 🚀 `feat:` 新功能
- 🐛 `fix:` Bug修复
- 📚 `docs:` 文档更新
- 🔧 `refactor:` 代码重构
- ✅ `test:` 测试改进
- 🔥 `perf:` 性能优化

## 🌈 项目愿景

### AI友好的编程语言
骆言致力于成为最适合AI开发和使用的编程语言：
- 自然的中文语法，减少AI理解障碍
- 强大的错误恢复，提高开发效率
- 智能的类型推断，简化代码编写
- 完善的工具链，支持自动化开发

### 自主进化的开发模式
通过AI和人类的协作：
- 持续的代码质量改进
- 自动的文档生成和维护
- 智能的性能优化
- 及时的bug修复和功能增强

## 🤝 社区支持

### 沟通渠道
- **GitHub Issues** - 问题报告和功能需求
- **GitHub Discussions** - 技术讨论和想法交流
- **Pull Requests** - 代码审查和协作

### 获得帮助
- 查看 [STRUCTURE.md](STRUCTURE.md) 了解项目结构
- 阅读 [AGENTS.md](AGENTS.md) 了解AI协作模式
- 参考 `examples/` 目录中的示例代码
- 在Issue中提问，AI会自动响应

### 行为准则
- 保持友善和专业的交流
- 尊重不同的观点和建议
- 优先使用中文进行讨论
- 欢迎AI和人类的共同参与

## 🎉 致谢

感谢所有参与骆言编程语言开发的贡献者：
- AI开发者（Claude等）的智能协作
- 人类开发者的创意和指导
- 社区成员的反馈和建议
- 开源生态的支持和启发

---

**一起构建AI时代的编程语言！**

通过GitHub Issues创建任务，让AI自动实现，共同推进项目发展。